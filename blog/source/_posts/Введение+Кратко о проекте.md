title: Блог джуниора. 1 статья
subtitle:  Введение
author: Горшунов Владимир
tags: [Блог джуниора]

Обнаружил, что регистрация не работает после вчерашних “переделок”<!-- more -->:
Решилось всё простыми:

    var User   = require('./../models/schema')
      , bcrypt = require('bcrypt');

Первая строчка подключает для дальнейшего использования модель User
Вторая - отвечает за шифрование паролей, т.к. в базе данных они хранятся зашифрованными.

В итоге, на тот момент у меня было приложение на node.js + express.js, используя mongodb, как базу данных через mongoose.js, с авторизацией через passport.js.
Следующей задачей было вывести базу данных для зарегистрированного пользователя.
Как шаблонизатор, я использую dot.js.

#### Так я обрабатываю переход на “секретную” страничку:

    exports.secretPage = function (req, res) {
      var User = require('./../models/schema');
      User.find({}, function(err, users){
        res.render('closed', {users:users});
      });
    };
т.к. контроллер находится в отдельном файле мы используем exports, а это ссылка на объект module.exports для возможности вызова через require()
В третьей строчке мы обращаемся к базе данных и в четвертой передаем users в шаблонизатор
